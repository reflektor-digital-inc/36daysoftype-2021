<template>
  <!-- eslint-disable max-len -->
  <div class="ReflektorLetters">
    <svg
      ref="rr"
      class="ReflektorLetters__rr"
      width="60"
      height="51"
      viewBox="0 0 60 51"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M53.41 12.22L46.41 5.22002C45.0616 3.87087 43.4606 2.80061 41.6984 2.07042C39.9362 1.34022 38.0475 0.964401 36.14 0.964401C34.2325 0.964401 32.3438 1.34022 30.5816 2.07042C28.8194 2.80061 27.2184 3.87087 25.87 5.22002V5.22002C24.4881 6.6071 23.3968 8.25596 22.66 10.07C21.5065 12.928 21.2791 16.076 22.01 19.07L0.570007 23.58L8.64 31.65L27.33 27.38L36.03 25.38L31.21 20.56C29.21 18.56 29.53 14.93 31.54 12.92L32.6 11.92C33.5637 10.9394 34.8678 10.3674 36.242 10.3227C37.6161 10.2781 38.9547 10.7641 39.98 11.68L46.98 18.63L21.29 44.33L27.47 50.51L59.62 18.35L54.09 12.83L53.41 12.22Z" fill="black" />
    </svg>
    <svg
      ref="r"
      class="ReflektorLetters__r"
      width="50"
      height="60"
      viewBox="0 0 50 60"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M31.82 13L38.82 20C39.7402 21.0246 40.2298 22.3646 40.187 23.7411C40.1441 25.1176 39.5721 26.4246 38.59 27.39L37.59 28.39C35.59 30.39 31.96 30.74 29.95 28.73L25 23.93L23 32.62L18.72 51.3L26.79 59.38L31.31 37.92C33.7527 38.5327 36.3128 38.5 38.7391 37.8251C41.1654 37.1501 43.3746 35.8561 45.15 34.07V34.07C46.4995 32.7208 47.5699 31.1189 48.3002 29.3559C49.0306 27.5929 49.4065 25.7033 49.4065 23.795C49.4065 21.8867 49.0306 19.9971 48.3002 18.2341C47.5699 16.4711 46.4995 14.8693 45.15 13.52L37.54 5.91002L32.01 0.390015L0 32.53L6.17999 38.71L31.82 13Z" fill="black" />
    </svg>
    <svg
      ref="o"
      class="ReflektorLetters__o"
      width="49"
      height="49"
      viewBox="0 0 49 49"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M41 8.00003C38.0773 5.00186 34.4079 2.83747 30.37 1.73003C26.4441 0.64118 22.2959 0.64118 18.37 1.73003C14.3249 2.8571 10.6482 5.03003 7.70999 8.03003C4.73986 10.9266 2.5932 14.5607 1.48999 18.56C0.424806 22.428 0.424806 26.512 1.48999 30.38C2.61148 34.36 4.756 37.9767 7.70999 40.87C10.647 43.8823 14.3226 46.0718 18.37 47.22C22.2954 48.3124 26.4446 48.3124 30.37 47.22C34.38 46.0627 38.0323 43.91 40.987 40.9622C43.9418 38.0144 46.1031 34.3673 47.27 30.36C48.3402 26.4825 48.3402 22.3875 47.27 18.51C46.1375 14.5176 43.9752 10.8931 41 8.00003V8.00003ZM38.44 27.77C37.6899 30.3145 36.2907 32.62 34.38 34.46C32.5559 36.3577 30.2612 37.7379 27.73 38.46C25.3332 39.1393 22.7976 39.16 20.39 38.52C17.961 37.8656 15.7491 36.5785 13.98 34.79C12.2011 33.0446 10.9203 30.8559 10.27 28.45C9.63825 26.0834 9.67285 23.5882 10.37 21.24C11.1133 18.7325 12.491 16.4593 14.37 14.64C16.2227 12.7258 18.5369 11.3208 21.09 10.56C23.4705 9.8708 25.9932 9.8397 28.39 10.47C30.8102 11.1138 33.0134 12.395 34.77 14.18C36.5566 15.9347 37.8439 18.1333 38.5 20.55C39.1387 22.8983 39.1318 25.3754 38.48 27.72L38.44 27.77Z" fill="black" />
    </svg>
    <svg
      ref="k"
      class="ReflektorLetters__k"
      width="59"
      height="59"
      viewBox="0 0 59 59"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M50.56 18.38L24.4 20.65L38.61 6.42999L32.43 0.25L0.279984 32.41L6.45999 38.59L20.95 24.09L18.65 50.7L26.72 58.78L29.3 29L58.64 26.46L50.56 18.38Z" fill="black" />
    </svg>
    <svg
      ref="t"
      class="ReflektorLetters__t"
      width="49"
      height="49"
      viewBox="0 0 49 49"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M22.83 0.650024L16.65 6.83003L26.39 16.56L0.419983 42.53L6.58998 48.72L32.57 22.74L42.3 32.48L48.48 26.3L22.83 0.650024Z" fill="black" />
    </svg>
    <svg
      ref="l"
      class="ReflektorLetters__l"
      width="39"
      height="55"
      viewBox="0 0 39 55"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M27.19 47.96L12.38 33.14L38.35 7.17002L32.17 0.990021L6.18999 26.96L0.019989 33.14L21.01 54.13L27.19 47.96Z" fill="black" />
    </svg>
    <svg
      ref="f"
      class="ReflektorLetters__f"
      width="54"
      height="39"
      viewBox="0 0 54 39"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M47.67 27.3L53.85 21.12L39.02 6.30003L39.03 6.28003L32.85 0.100037L0.699997 32.25L6.87999 38.44L19.96 25.35L32.73 38.11L38.9 31.93L26.14 19.17L32.84 12.48L47.67 27.3Z" fill="black" />
    </svg>
    <svg
      ref="ee"
      class="ReflektorLetters__ee"
      viewBox="0 0 54 54"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M32.3353 0.611062L26.1552 6.79117L47.1492 27.7852L53.3293 21.6051L32.3353 0.611062Z" fill="black" />
      <path d="M19.4483 13.4791L13.2681 19.6592L34.2621 40.6532L40.4423 34.4731L19.4483 13.4791Z" fill="black" />
      <path d="M6.58533 26.3571L0.405212 32.5372L21.3992 53.5312L27.5793 47.351L6.58533 26.3571Z" fill="black" />
    </svg>
  </div>
</template>

<script>
  import _random from 'lodash/random';
  import gsap from 'gsap';

  export default {
    mounted() {
      const { r, rr, l, f, o, k, t, ee } = this.$refs;
      this.letters = [r, rr, l, f, o, k, t, ee];
      this.letters.map((l) => {
        this.fadeIn(l);
      });
    },
    methods : {
      fadeIn(letter, previousTl) {
        previousTl && previousTl.kill();
        const tl = gsap.timeline({
          delay : _random(1, 2, true), onComplete : () => {
            this.fadeIn(letter, tl);
          }
        });
        tl.set(letter, { top : `${_random(10, 90, true)}%`, left : `${_random(10, 90, true)}%` });
        tl.add([
          gsap.fromTo(letter, { opacity : 0 }, { opacity : 1, duration : 0.5, ease : 'none' }),
          gsap.fromTo(letter, { x : 0, y : 0 }, { x : 100, y : -100, duration : 1.5 + _random(-0.5, 0.5, true), ease : 'none' })
        ]);
        tl.to(letter, { opacity : 0, duration : 0.5, ease : 'none' }, `-=${0.5}`);
      }
    }
  };
</script>

<style lang="scss">
  .ReflektorLetters {
    width: 100%;
    height: 100%;
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    @include breakpoint($mobile) {
      left: 40%;
      width: 80%;
      height: 80%;
    }
    svg {
      position: absolute;
      left: 0;
      top: 0;
      // height: 15px;
      height: 20px;
      width: auto;
      opacity: 0;
      &.ReflektorLetters__l {
        height: 20px;
      }
      &.ReflektorLetters__f {
        height: 17px;
      }
      &.ReflektorLetters__r {
        height: 23px;
      }
      &.ReflektorLetters__k {
        height: 23px;
      }
      &.ReflektorLetters__ee {
        height: 23px;
      }
      path {
        fill: $white;
      }
    }
  }
</style>

